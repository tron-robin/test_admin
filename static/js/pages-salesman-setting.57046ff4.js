(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-salesman-setting"],{"2eda":function(e,a,t){"use strict";t.d(a,"b",(function(){return n})),t.d(a,"c",(function(){return r})),t.d(a,"a",(function(){}));var n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-uni-view",{staticClass:"page"},[t("vk-data-page-header",{attrs:{title:e.page.title,"show-back":e.page.showBack},on:{back:function(a){arguments[0]=a=e.$handleEvent(a),e.pageBack.apply(void 0,arguments)}}}),t("v-uni-view",{directives:[{name:"loading",rawName:"v-loading",value:e.form1.props.loading,expression:"form1.props.loading"}],staticClass:"page-body",staticStyle:{"padding-bottom":"40px"}},[t("vk-data-form",{ref:"form1",attrs:{rules:e.form1.props.rules,action:e.form1.props.action,"form-type":e.form1.props.formType,columns:e.form1.props.columns,loading:e.form1.props.loading,labelWidth:e.form1.props.labelWidth,"before-action":e.form1.props.beforeAction,"footer-show":!1,"success-msg":e.form1.props.successMsg},on:{"update:loading":function(a){arguments[0]=a=e.$handleEvent(a),e.$set(e.form1.props,"loading",a)},success:function(a){arguments[0]=a=e.$handleEvent(a),e.formSuccess.apply(void 0,arguments)}},model:{value:e.form1.data,callback:function(a){e.$set(e.form1,"data",a)},expression:"form1.data"}})],1),t("v-uni-view",{staticClass:"page-footer"},[e.page.showBack?t("el-button",{staticStyle:{"margin-right":"20px",width:"80px"},attrs:{plain:!0,loading:e.form1.props.loading},on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.pageBack.apply(void 0,arguments)}}},[e._v(e._s(e.page.cancelText))]):e._e(),t("el-button",{staticStyle:{width:"80px"},attrs:{type:"primary",loading:e.form1.props.loading},on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.submitForm.apply(void 0,arguments)}}},[e._v(e._s(e.page.submitText))])],1),t("v-uni-view",{staticClass:"page-dialog"})],1)},r=[]},"655d":function(e,a,t){"use strict";t.r(a);var n=t("9c94"),r=t.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){t.d(a,e,(function(){return n[e]}))}(o);a["default"]=r.a},"6a74":function(e,a,t){"use strict";t.r(a);var n=t("2eda"),r=t("655d");for(var o in r)["default"].indexOf(o)<0&&function(e){t.d(a,e,(function(){return r[e]}))}(o);var i=t("f0c5"),l=Object(i["a"])(r["default"],n["b"],n["c"],!1,null,"238f8786",null,!1,n["a"],void 0);a["default"]=l.exports},"9c94":function(e,a,t){"use strict";var n;t("7a82"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t("d9e2"),t("d401"),t("c975"),t("a434");var r=uni.vk,o=[{validator:function(e,a,t,r){var o=n.form1.data;if(o.share_reward_1+o.share_reward_2>1)return t(new Error("一级+二级返佣比例之和不能大于100%"));t()},trigger:["change","blur"]}],i={data:function(){return{data:{},page:{title:"规则设置",submitText:"设置",cancelText:"返回",showBack:!1,backPage:""},form1:{data:{mode:"none",apply_image:"",plan_exec_time:0,reward_lock_day:8,no_pay_allow_change_bind:0,examine_mode:0,is_help_superiors_sales:0,balance_recharge_reward_mode:0,balance_recharge_mode:0,share_reward_1:"",share_reward_2:"",examine_total_recharge_amount:"",examine_total_order_amount:"",examine_min_vip_lv:"",examine_goods_ids:[]},props:{action:"admin/business/sys.salesman.updateFxRule",columns:[{key:"",title:"提现设置",type:"bar-title"},{key:"max_withdrawal_num",title:"每月可提现次数",type:"number",width:160,rightText:"次/月",clearable:!1,placeholder:"输入次数"},{key:"min_withdrawal_amount",title:"最少提现金额",type:"money",width:160,rightText:"元",clearable:!1,placeholder:"输入金额"},{key:"withdrawal_service_amount",title:"提现手续费",type:"percentage",width:160,clearable:!1,placeholder:"请输入比例",tips:"默认1%，您可以自己设置向用户收取的比例，如果设置为0，则由您来承担手续费，建议设置1%-3%之间"}],rules:{share_reward_1:o,share_reward_2:o},labelWidth:"180px",loading:!1,successMsg:"设置成功",beforeAction:function(e){return{fx:e}}}}}},onLoad:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n=this,r=n.vk,n.options=e,n.init(e)},onReady:function(){},onShow:function(){},onHide:function(){},methods:{init:function(e){n.$nextTick((function(){r.pubfn.objectAssign(n.form1.data,r.getVuex("$user.mchInfo.fx")),r.callFunction({url:"client/pub.getMchInfo",loading:{that:n,name:"form1.props.loading"},data:{},success:function(e){r.setVuex("$user.mchInfo",e.mchInfo);var a=r.pubfn.getData(e.mchInfo,"fx");a&&r.pubfn.objectAssign(n.form1.data,a)}})}))},pageTo:function(e){r.navigateTo(e)},pageBack:function(){var e=getCurrentPages();e.length>1&&e[0].route!==n.$page.route?r.navigateBack():n.page.backPage&&r.navigateTo(n.page.backPage)},resetForm:function(){n.$refs.form1.resetForm()},submitForm:function(){n.$refs.form1.submitForm()},formSuccess:function(e){r.setVuex("$user.mchInfo",e.data.mchInfo)}},watch:{"form1.data.balance_transfer_rule":{handler:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.indexOf("all")>-1&&-1==a.indexOf("all")?n.form1.data.balance_transfer_rule=["all","upper","lower","lower-lower","upper-upper","other"]:-1==e.indexOf("all")&&a.indexOf("all")>-1?n.form1.data.balance_transfer_rule=[]:5==e.length&&-1==e.indexOf("all")?n.form1.data.balance_transfer_rule=["all","upper","lower","lower-lower","upper-upper","other"]:e.length<6&&e.indexOf("all")>-1&&n.form1.data.balance_transfer_rule.splice(e.indexOf("all"),1)}},"form1.data.balance_recharge_reward_mode":{handler:function(e,a){1===e&&(this.form1.data.balance_recharge_mode=0,this.form1.data.balance_recharge_mode=0)}}},computed:{}};a.default=i}}]);